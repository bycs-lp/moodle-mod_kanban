{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["import Reactive from 'mod_kanban/reactive';\nimport KanbanComponent from 'mod_kanban/kanban';\nimport KanbanMutations from 'mod_kanban/mutations';\n\n/**\n * Create reactive instance for kanban, load initial state.\n * @param {string} domElementId Id of render container\n * @param {number} cmId Course module id of the kanban board\n * @param {number} boardId Id of the board to display\n * @returns {KanbanComponent}\n */\nexport const init = (domElementId, cmId, boardId) => {\n    const reactiveInstance = new Reactive({\n        name: 'kanban_' + cmId,\n        eventName: stateChangedEventName,\n        eventDispatch: dispatchKanbanEvent,\n        target: document.getElementById(domElementId),\n        mutations: new KanbanMutations(),\n    });\n    reactiveInstance.loadBoard(cmId, boardId);\n    return new KanbanComponent({\n        element: document.getElementById(domElementId),\n        reactive: reactiveInstance,\n    });\n};\n\nconst stateChangedEventName = 'mod_kanban:stateChanged';\n\n/**\n * Internal state changed event.\n *\n * @method dispatchKanbanEvent\n * @param {object} detail the full state\n * @param {object} target the custom event target (document if none provided)\n */\nfunction dispatchKanbanEvent(detail, target) {\n    if (target === undefined) {\n        target = document;\n    }\n    target.dispatchEvent(\n        new CustomEvent(\n            stateChangedEventName,\n            {\n                bubbles: true,\n                detail: detail,\n            }\n        )\n    );\n}"],"names":["domElementId","cmId","boardId","reactiveInstance","Reactive","name","eventName","stateChangedEventName","eventDispatch","dispatchKanbanEvent","target","document","getElementById","mutations","KanbanMutations","loadBoard","KanbanComponent","element","reactive","detail","undefined","dispatchEvent","CustomEvent","bubbles"],"mappings":"scAWoB,CAACA,aAAcC,KAAMC,iBAC/BC,iBAAmB,IAAIC,kBAAS,CAClCC,KAAM,UAAYJ,KAClBK,UAAWC,sBACXC,cAAeC,oBACfC,OAAQC,SAASC,eAAeZ,cAChCa,UAAW,IAAIC,4BAEnBX,iBAAiBY,UAAUd,KAAMC,SAC1B,IAAIc,gBAAgB,CACvBC,QAASN,SAASC,eAAeZ,cACjCkB,SAAUf,0BAIZI,sBAAwB,mCASrBE,oBAAoBU,OAAQT,aAClBU,IAAXV,SACAA,OAASC,UAEbD,OAAOW,cACH,IAAIC,YACAf,sBACA,CACIgB,SAAS,EACTJ,OAAQA"}