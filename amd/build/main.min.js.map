{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["import Reactive from 'mod_kanban/reactive';\nimport KanbanParent from 'mod_kanban/kanbanparent';\nimport KanbanMutations from 'mod_kanban/mutations';\n\nconst stateChangedEventName = 'mod_kanban:stateChanged';\n\n/**\n * Create reactive instance for kanban, load initial state.\n * @param {string} domElementId Id of render container\n * @param {number} cmId Course module id of the kanban board\n * @param {number} boardId Id of the board to display\n * @returns {KanbanComponent}\n */\nexport const init = (domElementId, cmId, boardId) => {\n    const reactiveInstance = new Reactive({\n        name: 'kanban_' + cmId,\n        eventName: stateChangedEventName,\n        eventDispatch: dispatchKanbanEvent,\n        target: document.getElementById(domElementId),\n        mutations: new KanbanMutations(),\n    });\n    reactiveInstance.loadBoard(cmId, boardId);\n    return new KanbanParent({\n        element: document.getElementById(domElementId),\n        reactive: reactiveInstance,\n    });\n};\n\n/**\n * Internal state changed event.\n *\n * @method dispatchKanbanEvent\n * @param {object} detail the full state\n * @param {object} target the custom event target (document if none provided)\n */\nfunction dispatchKanbanEvent(detail, target) {\n    if (target === undefined) {\n        target = document;\n    }\n    target.dispatchEvent(\n        new CustomEvent(\n            stateChangedEventName,\n            {\n                bubbles: true,\n                detail: detail,\n            }\n        )\n    );\n}"],"names":["dispatchKanbanEvent","detail","target","undefined","document","dispatchEvent","CustomEvent","bubbles","domElementId","cmId","boardId","reactiveInstance","Reactive","name","eventName","eventDispatch","getElementById","mutations","KanbanMutations","loadBoard","KanbanParent","element","reactive"],"mappings":"ydAmCSA,oBAAoBC,OAAQC,aAClBC,IAAXD,SACAA,OAASE,UAEbF,OAAOG,cACH,IAAIC,YApCkB,0BAsClB,CACIC,SAAS,EACTN,OAAQA,wBA/BJ,CAACO,aAAcC,KAAMC,iBAC/BC,iBAAmB,IAAIC,kBAAS,CAClCC,KAAM,UAAYJ,KAClBK,UAZsB,0BAatBC,cAAef,oBACfE,OAAQE,SAASY,eAAeR,cAChCS,UAAW,IAAIC,4BAEnBP,iBAAiBQ,UAAUV,KAAMC,SAC1B,IAAIU,sBAAa,CACpBC,QAASjB,SAASY,eAAeR,cACjCc,SAAUX"}